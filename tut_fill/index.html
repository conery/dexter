<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Fill Envelopes - Dexter</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/dex.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Fill Envelopes";
        var mkdocs_page_input_path = "tut_fill.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Dexter
        </a>
        <div class="version">
          Version 0.0.5
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../deb/">Double Entry Bookkeeping</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../philosophy/">Philosophy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../envelopes/">Envelope Budgeting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../command_line/">Command Line API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../workflow/">Workflow</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_install/">Dexter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db_server/">Database Server</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorial</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../folder/">Create Your Project Directory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex/">Shell Command</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_init/">Initialize the Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_import/">Import CSV Files</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_regexp/">Import Regular Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_pair/">Pair Entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_review/">Review Unpaired Entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_select/">Select Transactions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_report/">Print Reports</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Fill Envelopes</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#create-the-budget-transaction">Create the Budget Transaction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#import-the-budget-transaction">Import the Budget Transaction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#print-food-expenses">Print Food Expenses</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#date-for-the-budget-transaction">Date for the Budget Transaction</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#print-a-summary-of-all-expenses">Print a Summary of All Expenses</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#ignore-budgets">Ignore Budgets</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_income/">Review Income</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_recap/">Recap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Documentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../options/">Command Line Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../accounts/">Defining Accounts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../regexp/">Regular Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_init/">dex init</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_import/">dex import</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_pair/">dex pair</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_review/">dex review</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_select/">dex select</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_report/">dex report</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_save/">dex save</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_restore/">dex restore</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">The Budget Model</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../envelopes_dex/">Envelope Budgeting with Dexter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balances/">Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../budget_trans/">Budget Transactions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balance_expenses/">Expense Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balance_income/">Income Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fill_date/">Fill Date</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../adjustments/">Adjustments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../equity/">Using the Equity Account</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nominal/">Nominal Accounts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../recap/">Recap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Dexter and hledger</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../hledger/">Notes for hledger Users</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../api/">Database API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../modules/">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parsers/">Parsers</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Dexter</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Tutorial</li>
      <li class="breadcrumb-item active">Fill Envelopes</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/conery/dexter/edit/master/docs/tut_fill.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="fill-envelopes">Fill Envelopes</h1>
<p>This report shows us how much we spent in each expense category:</p>
<p><img alt="expenses before fill" src="../images/fill.report.before.png" /></p>
<p>The total in each category is the net amount -- the sum of debits (inflows) minus the sum of credits (outflow).
We can see that in detail in the <code>restaurant</code> category:</p>
<p><img alt="restaurant expenses before fill" src="../images/fill.restaurant.before.png" /></p>
<p>In this section we are going to add the budget transaction that fills the   envelopes for each expense category.
What we will see is that the budget transaction changes the meaning of expense account balances: when that transaction is added, the balance is interpreted as "the amount of money left in the envelope" (<a href="../envelopes/">Envelope Budgeting</a>).</p>
<blockquote>
<p><em><strong>Note:</strong>  In the current version of Dexter budget transactions are added to the database by an <code>import</code> command.  In future versions there will be a <code>fill</code> command that automates several of the steps described here.</em></p>
</blockquote>
<h2 id="create-the-budget-transaction">Create the Budget Transaction</h2>
<p>Use a text editor to create a new transaction in Journal format.</p>
<ul>
<li>The first line should have the transaction date and a brief description (and optionally a comment with extra information).</li>
<li>The second line should have a posting with the name of an income account that has money we want to distribute to envelopes adn the amount of money we want to distribute</li>
<li>The remaining lines will have the names of expense accounts and the amount of money we want to put in the envelopes for those accounts.</li>
</ul>
<p>Here is the transaction to use for the tutorial project.
It allocates most of the monthly paycheck from Yoyodyne (which was for $5,000)  to the four expense categories:</p>
<pre><code class="language-plain">2024-04-02  Fill envelopes                     ; Apr budget:
    income:yoyodyne             $4700.00
    expenses:car                -$700.00
    expenses:entertainment      -$200.00
    expenses:food               -$600.00
    expenses:home              -$2200.00
</code></pre>
<p>That transaction is in a file named <code>fill.apr.journal</code> in the project directory.</p>
<blockquote>
<p><em><strong>Important:</strong> Note the transaction has a <code>budget:</code> tag.  The tag is optional, but if it's there Dexter will be able to remove budget transactions from reports (why that's useful is explained below).</em></p>
</blockquote>
<h2 id="import-the-budget-transaction">Import the Budget Transaction</h2>
<p>Type this command to preview what will be imported:</p>
<pre><code class="language-bash">$ dex --pre import fill.apr.journal
None   multiple   yoyodyne                     Fill envelopes   #budget
</code></pre>
<p>Two things are worth noting:  </p>
<ul>
<li>
<p>the credit column says "multiple", meaning this transaction will credit more than one account (which is true).</p>
</li>
<li>
<p>the last item on the row is <code>#budget</code>, which is Dexter's syntax for a tag named "budget".</p>
</li>
</ul>
<p>Type the command again to add the transaction to the database:</p>
<pre><code class="language-bash">$ dex import fill.apr.journal
</code></pre>
<h2 id="print-food-expenses">Print Food Expenses</h2>
<p>A quick reminder of how Dexter does envelope budgeting (introduced earlier in <a href="../envelopes/">Envelope Budgeting</a>:</p>
<ul>
<li>an envelope is an expense account</li>
<li>filling the envelope sets a negative balance by crediting the account</li>
<li>purchases, which debit the account, add a positive amount, moving the balance closer to $0</li>
<li>if the balance ever gets to $0 it mean the total purchases exceed the original allocation</li>
</ul>
<p>If you look back at the budget fill transaction, you'll see the posting that fills the food envelope put $600 in the account named <code>expenses:food</code>:</p>
<pre><code class="language-plain">    expenses:food               -$600.00
</code></pre>
<p>That's the parent account for <code>expenses:food:groceries</code> and <code>expenses:food:restaurant</code>.
Any expenses in those two accounts are automatically taken from the food envelope.</p>
<p>This command prints a report for all food transactions, including the envelope filling transaction:</p>
<p><img alt="table with budget and all food expenses" src="../images/report.envelope.food.png" /></p>
<p>This is just what we expect!</p>
<ul>
<li>the envelope was initially empty</li>
<li>the fill transaction credited the account for $600, setting the balance to -$600</li>
<li>a purchase on Apr 1 took $70 from the envelope and the balance increased to -$530</li>
<li>the next transaction put $35 back in the envelope, so the balance is -$536</li>
</ul>
<p>The remaining transactions all debited the expense account, taking more money from the envelope.
At the end of the month the balance was -$405.</p>
<p>This agrees with the summary shown earlier, which said we spent $195 on food.
We put in $600, spent $195, and have $405 left.</p>
<p>There is one other difference to note.
The title bar of this table has a little envelope icon next to the account name.
That's there to indicate the report includes an envelope-filling budget transactions.</p>
<h2 id="date-for-the-budget-transaction">Date for the Budget Transaction</h2>
<p>You may have noticed the date on the budget fill transaction was April 2.
We chose that date because it was the date of the monthly paycheck, so it seemed like a natural time to allocate money to expense categories.</p>
<p>There are other strategies that work just as well, and may even make more sense when there are mulitple income sources or income deposits are made later in the month.
This topic is covered in the <a href="../fill_date/">Fill Date</a> section of the Budget Model documentation.</p>
<h2 id="print-a-summary-of-all-expenses">Print a Summary of All Expenses</h2>
<p>This command groups all expenses by the main category (food, car, <em>etc</em>):</p>
<p><img alt="table with budget and all food expenses" src="../images/report.envelopes.all.png" /></p>
<p>The items in the last column show the money left in each envelope at the end of the month.</p>
<h2 id="ignore-budgets">Ignore Budgets</h2>
<p>Adding the budget transaction changed the meaning of "account balance" for expense accounts -- the balance is now the amount left in the envelope (as a negative number).</p>
<p>If you want to print a table that shows the original meaning, namely the total amount spent in that category, it's easy to do -- just tell Dexter to ignore that budget transaction.
Since the budget transaction is tagged <code>#budget</code> the report generator can simply take those out of the calculation.</p>
<p>The <code>--no_budget</code> option tells Dexter to ignore the budget transaction when it prints the summary of all expenses:</p>
<p><img alt="grouped food report without budget" src="../images/report.nobudget.png" /></p>
<p>That's exactly what we saw at the beginning of this section.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../tut_report/" class="btn btn-neutral float-left" title="Print Reports"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../tut_income/" class="btn btn-neutral float-right" title="Review Income">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy 2025 John Conery</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/conery/dexter" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../tut_report/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../tut_income/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
