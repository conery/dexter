<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Pair Entries - Dexter</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/dex.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Pair Entries";
        var mkdocs_page_input_path = "tut_pair.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Dexter
        </a>
        <div class="version">
          Version 0.0.5
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../deb/">Double Entry Bookkeeping</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../philosophy/">Philosophy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../envelopes/">Envelope Budgeting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../command_line/">Command Line API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../workflow/">Workflow</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_install/">Dexter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db_server/">Database Server</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorial</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../folder/">Create Your Project Directory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex/">Shell Command</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_init/">Initialize the Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_import/">Import CSV Files</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_regexp/">Import Regular Expressions</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Pair Entries</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#output-tables">Output Tables</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#optional-update-the-regular-expressions">Optional: Update the Regular Expressions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#make-new-transactions">Make New Transactions</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_review/">Review Unpaired Entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_select/">Select Transactions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_report/">Print Reports</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_fill/">Fill Envelopes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_income/">Review Income</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_recap/">Recap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Documentation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../options/">Command Line Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../accounts/">Defining Accounts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../regexp/">Regular Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_init/">dex init</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_import/">dex import</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_pair/">dex pair</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_review/">dex review</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_select/">dex select</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_report/">dex report</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_save/">dex save</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_restore/">dex restore</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">The Budget Model</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../envelopes_dex/">Envelope Budgeting with Dexter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balances/">Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../budget_trans/">Budget Transactions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balance_expenses/">Expense Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balance_income/">Income Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fill_date/">Fill Date</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../adjustments/">Adjustments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../equity/">Using the Equity Account</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nominal/">Nominal Accounts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../recap/">Recap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Dexter and hledger</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../hledger/">Notes for hledger Users</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../api/">Database API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../modules/">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parsers/">Parsers</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Dexter</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Tutorial</li>
      <li class="breadcrumb-item active">Pair Entries</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/conery/dexter/edit/master/docs/tut_pair.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="pair-transactions">Pair Transactions</h1>
<p>Now that the database has regular expressions we can run the <code>pair</code> command.</p>
<p>As usual, we recommend doing a preview first:</p>
<pre><code class="language-shell">$ dex --pre pair
</code></pre>
<h2 id="output-tables">Output Tables</h2>
<p>The preview output will have three sections.  The first is a list of new transactions that will be made as a result of a successful match with a regular expression:</p>
<pre><code class="language-plain">Matched (14)
2024-04-26   visa       groceries                    $15.00   Long's Meat Market      
2024-04-24   visa       groceries                    $15.00   Newman's                
2024-04-23   visa       utility                     $100.00   EWEB     
...
</code></pre>
<p>This is exactly what we want from the regular expressions.
Each of these lines is a transaction that created by pairing a posting based on a CSV record from <code>chase.csv</code> with a new posting for an expense category.</p>
<p>There are two column names on each line.
The first is the credit (source) account, and the second is debit (destination) account.
So first line shows a charge on the Visa card to pay for groceries at a local butcher shop.</p>
<p>It's worth mentioning that while most records in the CSV file are purchases, and thus credits to the account, some will be debits, and the regular expression process correctly handles these situations.
Here is an example from later in that output section:</p>
<pre><code class="language-plain">2024-04-30   interest   checking          $0.68   Interest                      
</code></pre>
<p>That posting came from <code>checking.csv</code>, and corresponds to a deposit into that account.
The record in the CSV file was a debit, and the algorithm paired it with a credit to <code>income:interest</code>.</p>
<p>The second section shows transfers, <em>i.e.</em> new transcations that were formed by matching the two ends of a bank transfer or card payment.
Our sample data has one of each:</p>
<pre><code class="language-plain">Transfers (2)
2024-04-15   checking   visa              $489.73   Chase Payment       
2024-04-05   checking   savings           $300.00   Transfer Monthly
</code></pre>
<p>Finally, the <code>pair</code> command prints a list of postings that did not match regular expressions:</p>
<pre><code class="language-plain">Unmatched (10)
visa      JERRYS HOME   EUGENE
visa      JERRYS HOME   EUGENE
visa      AMZN Mktp US*MU3CW2U53
...
</code></pre>
<h2 id="optional-update-the-regular-expressions">Optional:  Update the Regular Expressions</h2>
<p>There are different kinds of postings in the unmatched section.
The first line is for a purchase at Amazon.com.
Amazon doesn't give us any information about what that purchase was, so we have no way of writing a regular expression rule to fill in the expense category.
We'll have to deal with this manually later in the workflow.</p>
<p>The second line is for a company named Jerry's.
In this case it might be possible to write a new rule.
If you do a lot of business at a company it would be worthwhile taking some time to add a new rule.
In this case we would make a rule saying "every purchase at Jerry's should be to <code>expenses:home:household</code>."</p>
<p>You can find more information about how to create and test new rules in <a href="../regexp/">Regular Expressions</a>.
A suggested workflow, especially for the first few months you use Dexter, is to run <code>pair</code> in preview mode,
scan the output to find new rules to add, update <code>regexp.csv</code> and import it again, and then run <code>pair</code> again.</p>
<h2 id="make-new-transactions">Make New Transactions</h2>
<p>When you're ready to actually create the new transactions, run the command again, without the <code>--preview</code> option:</p>
<pre><code class="language-shell">$ dex pair
</code></pre>
<p>Run the <code>info</code> command again to see the updated state of the database:</p>
<pre><code class="language-plain">$ dex info

Databases                                                 
┏━━━━━━━━━━━━━━┳━━━━━━━━━┳━━━━━━━━━━━━━┳━━━━━━━┳━━━━━━━━━┓
┃ name         ┃ account ┃ transaction ┃ entry ┃ reg_exp ┃
┡━━━━━━━━━━━━━━╇━━━━━━━━━╇━━━━━━━━━━━━━╇━━━━━━━╇━━━━━━━━━┩
│ dev          │      18 │          18 │    46 │      29 │
└──────────────┴─────────┴─────────────┴───────┴─────────┘
</code></pre>
<p>Our database is growing -- we have several new postings and transactions!</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../tut_regexp/" class="btn btn-neutral float-left" title="Import Regular Expressions"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../tut_review/" class="btn btn-neutral float-right" title="Review Unpaired Entries">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy 2025 John Conery</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/conery/dexter" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../tut_regexp/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../tut_review/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
