<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>dex import - Dexter</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../assets/_mkdocstrings.css" rel="stylesheet" />
        <link href="../css/dex.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "dex import";
        var mkdocs_page_input_path = "dex_import.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Dexter
        </a>
        <div class="version">
          Version 0.2.0b
        </div><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Introduction</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="..">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../history/">History</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../deb/">Double Entry Bookkeeping</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../philosophy/">Philosophy</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../envelopes/">Envelope Budgeting</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../command_line/">Command Line API</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../workflow/">Workflow</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Installation</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_install/">Dexter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../db_server/">Database Server</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Tutorial</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../folder/">Create Your Project Directory</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex/">Shell Command</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_init/">Initialize the Database</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_import/">Import CSV Files</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_regexp/">Import Regular Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_pair/">Pair Entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_review/">Review Unpaired Entries</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_select/">Select Transactions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_report/">Print Reports</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_fill/">Fill Envelopes</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_income/">Review Income</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../tut_recap/">Recap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">User Documentation</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../config/">Configuration</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../options/">Command Line Options</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../accounts/">Defining Accounts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../regexp/">Regular Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_init/">dex init</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">dex import</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#usage">Usage</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#importing-regular-expressions">Importing Regular Expressions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#importing-financial-records">Importing Financial Records</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#import-a-single-transaction-file">Import a Single Transaction File</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#import-multiple-csv-files">Import Multiple CSV Files</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#is-bulk-import-really-more-efficient">Is Bulk Import Really More Efficient?</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#tbd-working-with-aggregators">TBD: Working with Aggregators</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_pair/">dex pair</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_review/">dex review</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_select/">dex select</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_report/">dex report</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_save/">dex save</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../dex_restore/">dex restore</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">The Budget Model</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../envelopes_dex/">Envelope Budgeting with Dexter</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balances/">Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../budget_trans/">Budget Transactions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balance_expenses/">Expense Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../balance_income/">Income Account Balances</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../fill_date/">Fill Date</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../adjustments/">Adjustments</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../equity/">Using the Equity Account</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../nominal/">Nominal Accounts</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../recap/">Recap</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Dexter and hledger</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../hledger/">Notes for hledger Users</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">API</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../api/">Database API</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../modules/">Modules</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../parsers/">Parsers</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Dexter</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">User Documentation</li>
      <li class="breadcrumb-item active">dex import</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/conery/dexter/edit/master/docs/dex_import.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="dex-import"><code>dex import</code></h1>
<p>The <code>import</code> command parses one or more CSV files and adds new Postings to the database.</p>
<h4 id="usage">Usage</h4>
<pre><code>$ dex import [-h] [--account A] [--start_date D] [--end_date D] [--month D] [--regexp] F [F ...]

positional arguments:
  F               name(s) of file(s) with records to add

options:
  -h, --help      show this help message and exit
  --account A     account name
  --start_date D  starting date
  --end_date D    ending date
  --month D       add records only for this month
</code></pre>
<p>The <code>import</code> command adds new records to the database.
There are two kinds of data:</p>
<ul>
<li>transactions downloaded from a financial institution, which will become postings in the database</li>
<li>regular expression rules used by the <code>pair</code> and <code>review</code> commands.</li>
</ul>
<h2 id="importing-regular-expressions">Importing Regular Expressions</h2>
<p>If you want to import regular expresion rules, include the <code>--regexp</code> option on the command line:</p>
<pre><code class="language-shell">$ dex import --regexp F
</code></pre>
<p>The tutorial data includes a file named <code>regexp.csv</code> you can use as a starting point for your own rules.
The file format and instructions for creating rules are explained in <a href="../regexp/">Regular Expressions</a>.</p>
<h2 id="importing-financial-records">Importing Financial Records</h2>
<p>By default Dexter assumes you want to import financial records, so if you type</p>
<pre><code class="language-shell">$ dex import F1
</code></pre>
<p>Dexter will assume the file <code>F1</code> contains transactions.</p>
<p>The file name extension tells Dexter what file format to expect.</p>
<ul>
<li>
<p>A <code>.journal</code> extension means the file contains Journal commands.  Currently only <code>account</code> commands and transaction definitions are recognized by Dexter.</p>
</li>
<li>
<p>A <code>.csv</code> extension means the file contains transactions downloaded from a financial institution.</p>
</li>
</ul>
<p>Journal files are meant to be used to initialize a new database (using the <code>dex init</code> command) or to import a small number of transactions, for example budget transactions.</p>
<p>The remainder of this page has instructions for importing CSV files.</p>
<h2 id="import-a-single-transaction-file">Import a Single Transaction File</h2>
<p>To import a single file just specify the file name and use the <code>--account</code> option to tell Dexter which account to use for the new postings.</p>
<p>Suppose you log in to your bank and download the transactions for your checking account.
The bank web site will give the file a name that may or may not include the account name.
Let's suppose it's simply "Download.csv" and your browser puts it in your main Downloads folder.
This command will import those records as postings to the your checking account in the database:</p>
<pre><code class="language-shell">$ dex import ~/Downloads/Download.csv --account checking
</code></pre>
<p>The <code>--account</code> option tells Dexter to look up the account with the abbreviated name <code>checking</code>, and to use the parser associated with that account to process every record in the file.</p>
<p>If the file name is the same as the abbreviated name you can omit the <code>--account</code> option.
For example, if you download the CSV file, then move it to the Downloads folder in your project directory and rename it with the account name, you don't need to specify the name with <code>--account</code>:</p>
<pre><code>$ mv ~/Downloads/Download.csv ./Downloads/checking.csv
$ dex import Downloads/checking.csv
</code></pre>
<h2 id="import-multiple-csv-files">Import Multiple CSV Files</h2>
<p>It's often more efficient to do a "bulk import" of several CSV files.
In order to do this each file needs to have the name of an account.
You can't use <code>--account</code> because the files belong to different accounts.</p>
<p>For example, if your project's Download folder has files named <code>checking.csv</code> and <code>savings.csv</code> you can use one command to import them both:</p>
<pre><code>$ dex import Downloads/checking.csv Downloads/savings.csv
</code></pre>
<p>If all the CSV files in Downloads are named for accounts you can also just type</p>
<pre><code>$ dex import Downloads/*.csv
</code></pre>
<h2 id="is-bulk-import-really-more-efficient">Is Bulk Import Really More Efficient?</h2>
<p>It takes a bit of work to organize downloads before a bulk import.
This is a common situation:</p>
<ul>
<li>log in to the bank web site, download files from each account</li>
<li>the bank gives them all the same name (<code>Download.csv</code>) so your browser puts them in your main Downloads with a generic name like <code>Download.csv</code></li>
<li>the files have to be renamed and moved to your project Download folder, <em>e.g.</em></li>
</ul>
<pre><code>$ mv ~/Downloads/Download.csv ./Downloads/checking.csv
</code></pre>
<p>Although that seems like a lot of work it is probably worth the effort, for several reasons.</p>
<ol>
<li>If you don't rename the files you can accumulate a lot of duplicate names like <code>Download (1).csv</code>, <code>Download (2).csv</code>, <em>etc</em>, depending on how many accounts you have at the bank.</li>
<li>You'll have to remember which file goes with which account in order to give the right name with the <code>--account</code> option wheh you import them one at a time.</li>
<li>If you get into a pattern of download, move, download the next, move, ... it's easier to get the names correct.</li>
</ol>
<p>And finally, if you select the "year to date" option at the bank web site your CSV file will contain all the transactions for that account.
Dexter checks to make sure it doesn't re-import a record, so it's OK to import a file that has all records for the year.
Now you'll have CSV files, with names that reflect the account they came from, that can be used for other purposes as well.</p>
<h2 id="tbd-working-with-aggregators">TBD: Working with Aggregators</h2>
<p>There are several web sites that serve as "aggregators".
They can connect to your banks and credit card companies and download all of your records for you.
Then you just need to log in to the aggregator and do one download to get those records.</p>
<p>A future extension will allow parsers to specify a column in the CSV file to use as the account name.</p>
<!-- The two that I have tried (Mint and Empower) worked fairly well but had enough drawbacks that I stopped using them.
There were often "gaps" in the data that caused me to lose several days worth of records.
These sites also did too much "preprocessing" and filtered out columns from the original records that I wanted to use.

Recently several new services have started up, all using Plaid.
I'm looking forward to trying them out. -->
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../dex_init/" class="btn btn-neutral float-left" title="dex init"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../dex_pair/" class="btn btn-neutral float-right" title="dex pair">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Copyright &copy 2025 John Conery</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/conery/dexter" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../dex_init/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../dex_pair/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "..";</script>
    <script src="../js/theme_extra.js"></script>
    <script src="../js/theme.js"></script>
      <script src="../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
